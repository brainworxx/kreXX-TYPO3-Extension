/*! kreXX: Krumo eXXtended | (C) 2014-2015 Brainworxx GmbH | http://opensource.org/licenses/LGPL-2.1 */
(function(a){function g(){}document.addEventListener("DOMContentLoaded",function(){g.A()});g.A=function(){a.H(function(){for(var a=document.querySelectorAll(".search-wrapper"),b=0;b<a.length;b++)a[b].style.position="fixed"},function(){for(var a=document.querySelectorAll(".search-wrapper"),b=0;b<a.length;b++)a[b].style.position="absolute"});a.a(".kwrapper .kheadnote-wrapper .kclose, .kwrapper .kfatal-headnote .kclose","click",g.close);a.a(".kwrapper .kexpand","click",g.toggle);a.a(".ktool-tabs .ktab:not(.ksearchbutton)",
"click",g.F);a.a(".kwrapper .keditable select, .kwrapper .keditable input:not(.ksearchfield)","change",a.L);a.a(".kwrapper .resetbutton","click",a.I);a.a(".kwrapper .kcopyFrom","click",g.j);a.a(".kwrapper .ksearchbutton, .kwrapper .ksearch .kclose","click",g.v);a.a(".kwrapper .ksearchnow","click",g.B);a.a(".kwrapper .ksearchfield","keyup",g.C);a.a(".kwrapper .kcollapse-me","click",g.collapse);a.a(".kwrapper .kgencode","click",g.i);a.a(".kcodedisplay","click",a.preventBubble);"file:"===window.location.protocol&&
g.u()};g.j=function(c){c.preventDefault();c.stopPropagation();var b;c=a.c(this,"domid");var d=document.querySelector("#"+c);if(d){b=d.previousElementSibling;this.parentNode.insertBefore(d.cloneNode(!0),this.nextSibling);d=b.cloneNode(!0);this.parentNode.insertBefore(d,this.nextSibling);d.addEventListener("click",g.toggle);b=d.querySelector(".kgencode");null!==b&&b.addEventListener("click",g.i);d.querySelector(".kcollapse-me").addEventListener("click",g.collapse);var f=d.nextElementSibling.querySelectorAll(".kexpand");
for(b=0;b<f.length;b++)f[b].addEventListener("click",g.toggle);f=d.nextElementSibling.querySelectorAll(".kcollapse-me");for(b=0;b<f.length;b++)f[b].addEventListener("click",g.collapse);f=d.nextElementSibling.querySelectorAll(".kgencode");for(b=0;b<f.length;b++)f[b].addEventListener("click",g.i);f=d.nextElementSibling.querySelectorAll(".kwrapper .kcopyFrom");for(b=0;b<f.length;b++)f[b].addEventListener("click",g.j);f=d.nextElementSibling.querySelectorAll(".kwrapper .kcodedisplay");for(b=0;b<f.length;b++)f[b].addEventListener("click",
a.preventBubble);f=d.querySelectorAll(".kwrapper .kcodedisplay");for(b=0;b<f.length;b++)f[b].addEventListener("click",a.preventBubble);a.l(d.children).innerHTML=a.l(this.children).innerHTML;f=d.nextElementSibling.getElementsByTagName("*");for(b=0;b<f.length;b++)f[b].removeAttribute("id");d.nextElementSibling.removeAttribute("id");a.K(d.parentNode,c);this.parentNode.removeChild(this)}};g.collapse=function(c){c.preventDefault();c.stopPropagation();c=c.target;var b=a.f(c,".kwrapper")[0];a.b(b.querySelectorAll(".kfilterroot"),
"kfilterroot");a.b(b.querySelectorAll(".krootline"),"krootline");a.b(b.querySelectorAll(".ktopline"),"ktopline");a.m(c,"kcollapsed")?a.b(".kcollapsed","kcollapsed"):(a.g(a.f(c,"div.kbg-wrapper > ul"),"kfilterroot"),a.g(a.f(c,"ul.knode, li.kchild"),"krootline"),a.g([a.f(c,".krootline")[0]],"ktopline"),a.b(b.querySelectorAll(".kcollapsed"),"kcollapsed"),a.g([c],"kcollapsed"))};var e=[];g.B=function(c){function b(){a.b(".ksearch-found-highlight","ksearch-found-highlight");e[f]=[];e[f][d]=[];e[f][d].data=
[];for(var b=h.querySelectorAll("li span, li div.kpreview"),c=0;c<b.length;++c)-1<b[c].textContent.indexOf(d)&&(a.h(b[c],"ksearch-found-highlight"),e[f][d].data.push(b[c]));e[f][d].pointer=-1}c.preventDefault();c.stopPropagation();var d=this.parentNode.querySelector(".ksearchfield").value;if(2<d.length){var f=a.c(this,"instance");c=a.c(this,"direction");for(var h=document.querySelector("#"+f+" .kbg-wrapper"),l=h.querySelectorAll(".kcollapsed"),k=0;k<l.length;k++)a.s(l[k]);"undefined"!=typeof e[f]?
"undefined"==typeof e[f][d]&&b():b();"forward"==c?e[f][d].pointer++:e[f][d].pointer--;"undefined"==typeof e[f][d].data[e[f][d].pointer]&&(e[f][d].pointer="forward"==c?0:e[f][d].data.length-1);this.parentNode.querySelector(".ksearch-state").textContent=e[f][d].pointer+" / "+(e[f][d].data.length-1);"undefined"!==typeof e[f][d].data[e[f][d].pointer]&&g.w(e[f][d].data[e[f][d].pointer])}else this.parentNode.querySelector(".ksearch-state").textContent="<- must be bigger than 3 characters"};g.v=function(c){c.preventDefault();
c.stopPropagation();c=a.c(this,"instance");c=document.querySelector("#search-"+c);a.m(c,"hidden")?(a.h(c,"hidden"),c.querySelector(".ksearchfield").focus(),c.style.position="fixed"):(a.h(c,"hidden"),a.b(".ksearch-found-highlight","ksearch-found-highlight"),c.style.position="fixed",e=[])};g.toggle=function(c){c.stopPropagation();a.h(this,"kopened");a.h(this.nextElementSibling,"khidden")};g.w=function(c){var b=a.f(c,".knest"),d,f;a.b(b,"khidden");for(var e=0;e<b.length;e++)a.g([b[e].previousElementSibling],
"kopened");a.b(".highlight-jumpto","highlight-jumpto");a.g([c],"highlight-jumpto");d=document.querySelectorAll(".kfatalwrapper-outer");0==d.length?(d=document.querySelectorAll("html"),f=c.getBoundingClientRect().top+d[0].scrollTop-50):f=c.getBoundingClientRect().top-d[0].getBoundingClientRect().top+d[0].scrollTop-50;c=Math.abs(d[0].scrollTop-f);if(0<d.length){var g;g=d[0].scrollTop<f?Math.round(c/12):-1*Math.round(c/12);clearInterval(m);var k=d[0].scrollTop,m=setInterval(function(){d[0].scrollTop+=
g;if(Math.abs(d[0].scrollTop-f)<=Math.abs(g)||d[0].scrollTop==k)d[0].scrollTop=f,clearInterval(m);k=d[0].scrollTop},1)}};g.close=function(c){c.preventDefault();c.stopPropagation();c=a.c(c.target,"instance");var b=document.querySelector("#"+c),d=1,f=setInterval(function(){0>d?(clearInterval(f),b.parentNode.removeChild(b)):(d-=.1,b.style.opacity=d)},20)};g.u=function(){for(var a=document.querySelectorAll(".kwrapper .keditable input, .kwrapper .keditable select"),b=0;b<a.length;b++)a[b].disabled=!0};
g.i=function(c){c.preventDefault();c.stopPropagation();for(var b=c.target.nextElementSibling,d="",f,e=a.f(c.target,"li.kchild")[0];e;){f=a.c(e,"domid");c=a.c(e,"source");"undefined"!==typeof c&&". . ."==c&&"undefined"!==typeof f&&(e=document.querySelector("#"+f).parentNode,c=a.c(e,"source"));if("undefined"!==typeof c)if(". . ."==c){d="// Value is either protected or private.<br /> // Sorry . . ";break}else d=c+d;e=a.f(e,"li.kchild")[0]}b.innerHTML='<div class="kcode-inner">'+d+";</div>";"none"==b.style.display?
(b.style.display="",a.J(b)):b.style.display="none"};g.F=function(c){c.preventDefault();c.stopPropagation();c=a.c(this.parentNode,"instance");var b=a.c(this,"what");a.b("#"+c+" .kactive:not(.ksearchbutton)","kactive");this.classList?this.classList.add("kactive"):this.className+=" kactive";a.g("#"+c+" .kpayload","khidden");a.b("#"+c+" ."+b,"khidden")};g.D=function(){var a=Math.round(.6*Math.max(document.documentElement.clientHeight,window.innerHeight||0));if(0<a)for(var b=document.querySelectorAll(".krela-wrapper .kpayload"),
d=0;d<b.length;d++)b[d].style.maxHeight=a+"px"};g.G=function(){var a=document.querySelector(".kfatalwrapper-outer .search-wrapper");a.style.position="";a.style.top="";0>a.getBoundingClientRect().top&&(a.style.position="fixed",a.style.top="0px")};g.C=function(c){c.preventDefault();c.stopPropagation();13==c.which&&a.s(this.parentNode.querySelectorAll(".ksearchnow")[1])}})(kreXXdomTools);
