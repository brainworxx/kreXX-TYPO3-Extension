/*! kreXX: Krumo eXXtended | (C) 2014-2015 Brainworxx GmbH | http://opensource.org/licenses/LGPL-2.1 */
(function(){function a(){}a.getParents=function(a,e){function c(){for(var b=document.querySelector("body"),d=["matches","msMatchesSelector","mozMatchesSelector","oMatchesSelector","webkitMatchesSelector"],a=0;a<d.length;a++)if("function"===typeof b[d[a]])return d[a]}for(var b=[],d=a.parentNode;null!==d&&"function"===typeof d[c()];)d[c()](e)&&b.push(d),d=d.parentNode;return b};a.trigger=function(a,e){var c=document.createEvent("HTMLEvents");c.initEvent(e,!0,!1);a.dispatchEvent(c)};a.hasClass=function(a,
e){return a.classList?a.classList.contains(e):(new RegExp("(^| )"+e+"( |$)","gi")).test(a.className)};a.findInDomlistByClass=function(a,e){e=" "+e+" ";for(var c=0;c<a.length;c++)if(-1<(" "+a[c].className+" ").replace(/[\n\t]/g," ").indexOf(e))return a[c]};a.addClass=function(a,e){var c;c="string"===typeof a?document.querySelectorAll(a):a;for(var b=0;b<c.length;b++)c[b].classList?c[b].classList.add(e):c[b].className+=" "+e};a.removeClass=function(a,e){var c;c="string"===typeof a?document.querySelectorAll(a):
a;for(var b=0;b<c.length;b++)c[b].classList?c[b].classList.remove(e):c[b].className=c[b].className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")};a.toggleClass=function(a,e){if(a.classList)a.classList.toggle(e);else{var c=a.className.split(" "),b=c.indexOf(e);0<=b?c.splice(b,1):c.push(e);a.className=c.join(" ")}};a.addEvent=function(a,e,c){a=document.querySelectorAll(a);for(var b=0;b<a.length;b++)a[b].addEventListener(e,c)};a.getDataset=function(a,e){var c;if("undefined"!==
typeof a&&(c=a.getAttribute("data-"+e),null!==c))return c};a.setDataset=function(a,e,c){"undefined"!==typeof a&&a.setAttribute("data-"+e,c)};a.selectText=function(a){var e,c;document.body.createTextRange?(e=document.body.createTextRange(),e.moveToElementText(a),e.select()):window.getSelection&&(c=window.getSelection(),e=document.createRange(),e.selectNodeContents(a),c.removeAllRanges(),c.addRange(e))};a.draXX=function(f,e,c,b){function d(a){var b=document.documentElement;a=a.getBoundingClientRect();
return{top:a.top+window.pageYOffset-b.clientTop,left:a.left+window.pageXOffset-b.clientLeft}}function g(a){var b=a.offsetWidth;a=getComputedStyle(a);return b+=parseInt(a.marginLeft,10)+parseInt(a.marginRight,10)}a.addEvent(f+" "+e,"mousedown",function(e){function l(a){a.preventDefault();a.stopPropagation();var d=a.pageY+n;k.style.left=a.pageX+p+"px";k.style.top=d+"px";"function"===typeof b&&b()}var k=a.getParents(this,f)[0],m=d(k),n=m.top+k.offsetHeight-e.pageY-k.offsetHeight,p=m.left+g(k)-e.pageX-
g(k);e.preventDefault();e.stopPropagation();document.addEventListener("mousemove",l);document.addEventListener("mouseup",function(){e.preventDefault();e.stopPropagation();document.removeEventListener("mousemove",l);"function"===typeof c&&c()})})};a.readSettings=function(a){a+="=";for(var e=document.cookie.split(";"),c={},b=0;b<e.length;b++){for(var d=e[b];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))try{c=JSON.parse(d.substring(a.length,d.length))}catch(g){c=d.substring(a.length,
d.length)}}return c};a.setSetting=function(f){f.preventDefault();f.stopPropagation();f=a.readSettings("KrexxDebugSettings");var e=this.value,c=this.name;f[c]=e;var b=new Date;b.setTime(b.getTime()+85536E5);b="expires="+b.toUTCString();document.cookie="KrexxDebugSettings=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";document.cookie="KrexxDebugSettings="+JSON.stringify(f)+"; "+b+"; path=/";alert(c+" --\x3e "+e+"\n\nPlease reload the page to use the new local settings.")};a.resetSetting=function(a){a.preventDefault();
a.stopPropagation();a=new Date;a.setTime(a.getTime()+85536E5);a="expires="+a.toUTCString();document.cookie="KrexxDebugSettings="+JSON.stringify({})+"; "+a+"; path=/";alert("All local configuration have been reset.\n\nPlease reload the page to use the these settings.")};window.kreXXdomTools=a})();