/*! kreXX: Krumo eXXtended | (C) 2014-2016 Brainworxx GmbH | http://opensource.org/licenses/LGPL-2.1 */
(function(a){function b(){}document.addEventListener("DOMContentLoaded",function(){b.C()});b.C=function(){a.M();a.L(".kheadnote",function(){for(var a=document.querySelectorAll(".search-wrapper"),c=0;c<a.length;c++)a[c].style.position="fixed"},function(){for(var a=document.querySelectorAll(".search-wrapper"),c=0;c<a.length;c++)a[c].style.position="absolute"});a.a(".kwrapper .kheadnote-wrapper .kclose, .kwrapper .kfatal-headnote .kclose","click",b.close);a.a(".kwrapper .kexpand","click",b.toggle);a.a(".ktool-tabs .ktab:not(.ksearchbutton)",
"click",b.J);a.a(".kwrapper .keditable select, .kwrapper .keditable input:not(.ksearchfield)","change",a.P);a.a(".kwrapper .resetbutton","click",a.N);a.a(".kwrapper .kcopyFrom","click",b.l);a.a(".kwrapper .ksearchbutton, .kwrapper .ksearch .kclose","click",b.w);a.a(".kwrapper .ksearchnow","click",b.F);a.a(".kwrapper .ksearchfield","keyup",b.G);a.a(".kwrapper .kcollapse-me","click",b.collapse);a.a(".kwrapper .kgencode","click",b.j);a.a(".kcodedisplay","click",a.preventBubble);a.a(".ksearchcase","change",
b.i);a.a(".ksearchkeys","change",b.i);a.a(".ksearchshort","change",b.i);a.a(".ksearchlong","change",b.i);a.a(".ksearchwhole","change",b.i);a.a(".koptions","click",b.A);"file:"===window.location.protocol&&b.v()};b.l=function(g){g.preventDefault();g.stopPropagation();var c;g=a.b(this,"domid");var d=document.querySelector("#"+g);if(d){c=d.previousElementSibling;this.parentNode.insertBefore(d.cloneNode(!0),this.nextSibling);d=c.cloneNode(!0);this.parentNode.insertBefore(d,this.nextSibling);d.addEventListener("click",
b.toggle);c=d.querySelector(".kgencode");null!==c&&c.addEventListener("click",b.j);d.querySelector(".kcollapse-me").addEventListener("click",b.collapse);var f=d.nextElementSibling.querySelectorAll(".kexpand");for(c=0;c<f.length;c++)f[c].addEventListener("click",b.toggle);f=d.nextElementSibling.querySelectorAll(".kcollapse-me");for(c=0;c<f.length;c++)f[c].addEventListener("click",b.collapse);f=d.nextElementSibling.querySelectorAll(".kgencode");for(c=0;c<f.length;c++)f[c].addEventListener("click",b.j);
f=d.nextElementSibling.querySelectorAll(".kwrapper .kcopyFrom");for(c=0;c<f.length;c++)f[c].addEventListener("click",b.l);f=d.nextElementSibling.querySelectorAll(".kwrapper .kcodedisplay");for(c=0;c<f.length;c++)f[c].addEventListener("click",a.preventBubble);f=d.querySelectorAll(".kwrapper .kcodedisplay");for(c=0;c<f.length;c++)f[c].addEventListener("click",a.preventBubble);a.m(d.children).innerHTML=a.m(this.children).innerHTML;f=d.nextElementSibling.getElementsByTagName("*");for(c=0;c<f.length;c++)f[c].removeAttribute("id");
d.nextElementSibling.removeAttribute("id");a.H(d.parentNode,"domid",g);this.parentNode.removeChild(this)}};b.collapse=function(b){b.preventDefault();b.stopPropagation();b=b.target;var c=a.h(b,".kwrapper")[0];a.c(c.querySelectorAll(".kfilterroot"),"kfilterroot");a.c(c.querySelectorAll(".krootline"),"krootline");a.c(c.querySelectorAll(".ktopline"),"ktopline");a.o(b,"kcollapsed")?a.c(".kcollapsed","kcollapsed"):(a.g(a.h(b,"div.kbg-wrapper > ul"),"kfilterroot"),a.g(a.h(b,"ul.knode, li.kchild"),"krootline"),
a.g([a.h(b,".krootline")[0]],"ktopline"),a.c(c.querySelectorAll(".kcollapsed"),"kcollapsed"),a.g([b],"kcollapsed"))};var e=[];b.F=function(g){function c(){a.c(".ksearch-found-highlight","ksearch-found-highlight");!1===f&&(d=d.toLowerCase());var c=[];!0===t&&c.push("li.kchild span.kname");!0===m&&c.push("li.kchild span.kshort");!0===h&&c.push("li div.kpreview");e[l]=[];e[l][d]=[];e[l][d].data=[];for(var c=k.querySelectorAll(c.join(", ")),b,g=0;g<c.length;++g)b=c[g].textContent,!1===f&&(b=b.toLowerCase()),
n?b===d&&(a.f(c[g],"ksearch-found-highlight"),e[l][d].data.push(c[g])):-1<b.indexOf(d)&&(a.f(c[g],"ksearch-found-highlight"),e[l][d].data.push(c[g]));e[l][d].pointer=-1}g.preventDefault();g.stopPropagation();a.g([this.parentNode.nextElementSibling],"khidden");var d=this.parentNode.querySelector(".ksearchfield").value,f=this.parentNode.parentNode.querySelector(".ksearchcase").checked,t=this.parentNode.parentNode.querySelector(".ksearchkeys").checked,m=this.parentNode.parentNode.querySelector(".ksearchshort").checked,
h=this.parentNode.parentNode.querySelector(".ksearchlong").checked,n=this.parentNode.parentNode.querySelector(".ksearchwhole").checked;!1===f&&(d=d.toLowerCase());if(2<d.length||n){var l=a.b(this,"instance");g=a.b(this,"direction");for(var k=document.querySelector("#"+l+" .kbg-wrapper"),p=k.querySelectorAll(".kcollapsed"),q=0;q<p.length;q++)a.u(p[q]);"undefined"!==typeof e[l]?"undefined"===typeof e[l][d]&&c():c();"forward"===g?e[l][d].pointer++:e[l][d].pointer--;"undefined"===typeof e[l][d].data[e[l][d].pointer]&&
(e[l][d].pointer="forward"===g?0:e[l][d].data.length-1);this.parentNode.querySelector(".ksearch-state").textContent=e[l][d].pointer+1+" / "+e[l][d].data.length;"undefined"!==typeof e[l][d].data[e[l][d].pointer]&&b.B(e[l][d].data[e[l][d].pointer])}else this.parentNode.querySelector(".ksearch-state").textContent="<- must be bigger than 3 characters"};b.i=function(){e=[]};b.w=function(b){b.preventDefault();b.stopPropagation();b=a.b(this,"instance");b=document.querySelector("#search-"+b);a.o(b,"hidden")?
(a.f(b,"hidden"),b.querySelector(".ksearchfield").focus(),b.style.position="fixed"):(a.f(b,"hidden"),a.c(".ksearch-found-highlight","ksearch-found-highlight"),b.style.position="fixed",e=[])};b.A=function(b){b.preventDefault();b.stopPropagation();a.f(this.parentNode.nextElementSibling,"khidden")};b.toggle=function(b){b.stopPropagation();a.f(this,"kopened");a.f(this.nextElementSibling,"khidden")};b.B=function(b){var c=a.h(b,".knest"),d,f;a.c(c,"khidden");for(var g=0;g<c.length;g++)a.g([c[g].previousElementSibling],
"kopened");a.c(".highlight-jumpto","highlight-jumpto");a.g([b],"highlight-jumpto");d=document.querySelectorAll(".kfatalwrapper-outer");0===d.length?(d=document.querySelectorAll("html"),f=b.getBoundingClientRect().top+d[0].scrollTop-50):f=b.getBoundingClientRect().top-d[0].getBoundingClientRect().top+d[0].scrollTop-50;b=Math.abs(d[0].scrollTop-f);if(0<d.length){var e;e=d[0].scrollTop<f?Math.round(b/12):-1*Math.round(b/12);clearInterval(n);var h=d[0].scrollTop,n=setInterval(function(){d[0].scrollTop+=
e;if(Math.abs(d[0].scrollTop-f)<=Math.abs(e)||d[0].scrollTop===h)d[0].scrollTop=f,clearInterval(n);h=d[0].scrollTop},1)}};b.close=function(b){b.preventDefault();b.stopPropagation();b=a.b(b.target,"instance");var c=document.querySelector("#"+b),d=1,f=setInterval(function(){0>d?(clearInterval(f),c.parentNode.removeChild(c)):(d-=.1,c.style.opacity=d)},20)};b.v=function(){for(var a=document.querySelectorAll(".kwrapper .keditable input, .kwrapper .keditable select"),c=0;c<a.length;c++)a[c].disabled=!0};
b.j=function(b){b.preventDefault();b.stopPropagation();for(var c=b.target.nextElementSibling,d=[],f="",e,g=a.h(b.target,"li.kchild")[0];g;)e=a.b(g,"domid"),b=a.b(g,"source"),"undefined"!==typeof b&&". . ."===b&&"undefined"!==typeof e&&(g=document.querySelector("#"+e).parentNode,d.push(a.b(g,"source"))),"undefined"!==typeof b&&d.push(b),g=a.h(g,"li.kchild")[0];d.reverse();for(b=0;b<d.length;b++){if(". . ."===d[b]){f="// Value is either protected or private.<br /> // Sorry . . ";break}";stop;"===d[b]&&
(f="",d[b]="");f=-1!==d[b].indexOf(";firstMarker;")?d[b].replace(";firstMarker;",f):f+d[b]}c.innerHTML='<div class="kcode-inner">'+f+"</div>";"none"===c.style.display?(c.style.display="",a.O(c)):c.style.display="none"};b.J=function(b){b.preventDefault();b.stopPropagation();b=a.b(this.parentNode,"instance");var c=a.b(this,"what");a.c("#"+b+" .kactive:not(.ksearchbutton)","kactive");this.classList?this.classList.add("kactive"):this.className+=" kactive";a.g("#"+b+" .kpayload","khidden");a.c("#"+b+" ."+
c,"khidden")};b.I=function(){var a=Math.round(.6*Math.max(document.documentElement.clientHeight,window.innerHeight||0));if(0<a)for(var c=document.querySelectorAll(".krela-wrapper .kpayload"),b=0;b<c.length;b++)c[b].style.maxHeight=a+"px"};b.K=function(){var a=document.querySelector(".kfatalwrapper-outer .search-wrapper");a.style.position="";a.style.top="";0>a.getBoundingClientRect().top&&(a.style.position="fixed",a.style.top="0px")};b.G=function(b){b.preventDefault();b.stopPropagation();13==b.which&&
a.u(this.parentNode.querySelectorAll(".ksearchnow")[1])}})(kreXXdomTools);