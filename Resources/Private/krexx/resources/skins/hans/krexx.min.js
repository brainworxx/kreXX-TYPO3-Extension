/*! kreXX: Krumo eXXtended | (C) 2014-2018 Brainworxx GmbH | http://opensource.org/licenses/LGPL-2.1 */
(function(a){function b(){}document.addEventListener("DOMContentLoaded",function(){b.F()});b.F=function(){a.N(b);a.O();a.M(".kheadnote",function(){for(var a=document.querySelectorAll(".search-wrapper"),b,d=0;d<a.length;d++)b=a[d].getBoundingClientRect(),a[d].style.position="fixed",a[d].style.top=b.top+"px"},function(){for(var a=document.querySelectorAll(".search-wrapper"),b=0;b<a.length;b++)a[b].style.position="absolute",a[b].style.top=""});a.b(".kwrapper .kheadnote-wrapper .kclose, .kwrapper .kfatal-headnote .kclose",
"click",b.close);a.b(".kwrapper .kexpand","click",b.toggle);a.b(".ktool-tabs .ktab:not(.ksearchbutton)","click",b.K);a.b(".kwrapper .keditable select, .kwrapper .keditable input:not(.ksearchfield)","change",a.T);a.b(".kwrapper .kresetbutton","click",a.R);a.b(".kwrapper .kcopyFrom","click",b.u);a.b(".kwrapper .ksearchbutton, .kwrapper .ksearch .kclose","click",b.w);a.b(".kwrapper .ksearchnow","click",b.a);a.b(".kwrapper .ksearchfield","keyup",b.H);a.b(".kwrapper .kolps","click",a.collapse);a.b(".kwrapper .kgencode",
"click",b.B);a.b(".kodsp","click",a.preventBubble);a.b(".kwrapper .kchild .kinfobutton","click",b.U);"file:"===window.location.protocol&&b.v();a.P();b.D();a.i.register(".kwrapper.kouterwrapper, .kfatalwrapper-outer")};b.u=function(b,e){var d=a.c(e,"domid"),g=document.querySelector("#"+d);if(g){var c=g.previousElementSibling;e.parentNode.insertBefore(g.cloneNode(!0),e.nextSibling);g=c.cloneNode(!0);e.parentNode.insertBefore(g,e.nextSibling);a.m(g.children).innerHTML=a.m(e.children).innerHTML;var f=
g.nextElementSibling.getElementsByTagName("*");for(c=0;c<f.length;c++)f[c].removeAttribute("id");g.nextElementSibling.removeAttribute("id");a.I(g.parentNode,"domid",d);d=g.querySelector(".khelp");c=g.querySelector(".kinfobutton");f=e.querySelector(".khelp");var h=e.querySelector(".kinfobutton");null!==d&&d.parentNode.removeChild(d);null!==c&&c.parentNode.removeChild(c);null!==f&&(g.appendChild(h),g.appendChild(f));e.parentNode.removeChild(e)}};b.D=function(){for(var c=document.querySelectorAll(".koptionwrapper"),
e=0;e<c.length;e++)c[e].innerHTML='<hr class="ksearchhr"/><label class="koptionleft"><input data-instance="{KrexxId}" class="ksearchcase" type="checkbox" autocomplete="off" name="searchcase" value="searchcase">Case sensitive</label><label class="koptionright"><input data-instance="{KrexxId}" class="ksearchshort" type="checkbox" autocomplete="off" name="searchshort" value="searchshort" checked="checked">Search short results</label><br/><label class="koptionleft"><input data-instance="{KrexxId}" class="ksearchkeys" type="checkbox" autocomplete="off" name="searchkeys" value="searchkeys" checked="checked">Search keys </label><label class="koptionright"><input data-instance="{KrexxId}" class="ksearchlong" type="checkbox" autocomplete="off" name="searchlong" value="searchlong" checked="checked">Search long results</label><br/><label class="koptionleft"><input data-instance="{KrexxId}" class="ksearchwhole" type="checkbox" autocomplete="off" name="searchwhole" value="searchwhole">Search whole values</label>';
a.b(".ksearchcase","change",b.a.l);a.b(".ksearchkeys","change",b.a.l);a.b(".ksearchshort","change",b.a.l);a.b(".ksearchlong","change",b.a.l);a.b(".ksearchwhole","change",b.a.l);a.b(".koptions","click",b.A)};b.a=function(c,e){function d(){a.f(".ksearch-found-highlight","ksearch-found-highlight");var d=[];!0===f&&d.push("li.kchild span.kname");!0===h&&d.push("li.kchild span.kshort");!0===n&&d.push("li div.kpreview");b.a.results[l]=[];b.a.results[l][g]=[];b.a.results[l][g].data=[];b.a.results[l][g].pointer=
[];var e=[];0<d.length&&(e=r.querySelectorAll(d.join(", ")));for(var c=0;c<e.length;++c)d=e[c].textContent,!1===k&&(d=d.toLowerCase()),p?d===g&&(a.g(e[c],"ksearch-found-highlight"),b.a.results[l][g].data.push(e[c])):-1<d.indexOf(g)&&(a.g(e[c],"ksearch-found-highlight"),b.a.results[l][g].data.push(e[c]));b.a.results[l][g].pointer=-1}a.h([e.parentNode.nextElementSibling],"khidden");var g=e.parentNode.querySelector(".ksearchfield").value,k=e.parentNode.parentNode.querySelector(".ksearchcase").checked,
f=e.parentNode.parentNode.querySelector(".ksearchkeys").checked,h=e.parentNode.parentNode.querySelector(".ksearchshort").checked,n=e.parentNode.parentNode.querySelector(".ksearchlong").checked,p=e.parentNode.parentNode.querySelector(".ksearchwhole").checked;!1===k&&(g=g.toLowerCase());if(0===g.length)e.parentNode.querySelector(".ksearch-state").textContent="<- Please enter a search text.";else if(2<g.length||p){for(var l=a.c(e,"instance"),m=a.c(e,"direction"),r=document.querySelector("#"+l+" .kbg-wrapper"),
q=r.querySelectorAll(".kcollapsed"),t=0;t<q.length;t++)a.s(q[t]);"undefined"!==typeof b.a.results[l]?"undefined"===typeof b.a.results[l][g]&&d():d();"forward"===m?b.a.results[l][g].pointer++:b.a.results[l][g].pointer--;"undefined"===typeof b.a.results[l][g].data[b.a.results[l][g].pointer]&&(b.a.results[l][g].pointer="forward"===m?0:b.a.results[l][g].data.length-1);e.parentNode.querySelector(".ksearch-state").textContent=b.a.results[l][g].pointer+1+" / "+b.a.results[l][g].data.length;"undefined"!==
typeof b.a.results[l][g].data[b.a.results[l][g].pointer]&&b.o(b.a.results[l][g].data[b.a.results[l][g].pointer])}else e.parentNode.querySelector(".ksearch-state").textContent="<- must be bigger than 3 characters"};b.a.results=[];b.a.l=function(){b.a.results[a.c(this,"instance")]=[]};b.w=function(c,e){var d=a.c(e,"instance");d=document.querySelector("#search-"+d);if(a.C(d,"hidden")){a.g(d,"hidden");d.querySelector(".ksearchfield").focus();d.style.position="absolute";d.style.top="";var g=d.getBoundingClientRect();
d.style.position="fixed";console.log(g.top);d.style.top=g.top+"px"}else a.g(d,"hidden"),a.f(".ksearch-found-highlight","ksearch-found-highlight"),d.style.position="absolute",d.style.top="",b.a.results=[]};b.A=function(b,e){a.g(e.parentNode.nextElementSibling,"khidden")};b.toggle=function(b,e){a.g(e,"kopened");a.g(e.nextElementSibling,"khidden")};b.o=function(b,e){var d=a.j(b,".knest");a.f(d,"khidden");for(var g=0;g<d.length;g++)a.h([d[g].previousElementSibling],"kopened");!0!==e&&(a.f(".highlight-jumpto",
"highlight-jumpto"),a.h([b],"highlight-jumpto"));var c=document.querySelectorAll(".kfatalwrapper-outer");if(0===c.length){c=document.querySelectorAll("html");c[0].scrollHeight===c[0].clientHeight&&(c=document.querySelectorAll("body"));var f=b.getBoundingClientRect().top+c[0].scrollTop-50}else f=b.getBoundingClientRect().top-c[0].getBoundingClientRect().top+c[0].scrollTop-50;d=Math.abs(c[0].scrollTop-f);if(0<c.length){var h=c[0].scrollTop<f?Math.round(d/12):-1*Math.round(d/12);clearInterval(p);var n=
c[0].scrollTop,p=setInterval(function(){c[0].scrollTop+=h;if(Math.abs(c[0].scrollTop-f)<=Math.abs(h)||c[0].scrollTop===n)c[0].scrollTop=f,clearInterval(p);n=c[0].scrollTop},1)}};b.close=function(b,e){var d=a.c(e,"instance"),c=document.querySelector("#"+d),k=1,f=setInterval(function(){0>k?(clearInterval(f),c.parentNode.removeChild(c)):(k-=.1,c.style.opacity=k)},20)};b.v=function(){for(var a=document.querySelectorAll(".kwrapper .keditable input, .kwrapper .keditable select"),b=0;b<a.length;b++)a[b].disabled=
!0};b.B=function(b,e){b.stop=!0;for(var d=e.nextElementSibling,c=[],k="",f,h,n="",p="",l=a.j(e,"li.kchild")[0];l;)h=a.c(l,"domid"),f=a.c(l,"source"),n=a.c(l,"codewrapperLeft"),p=a.c(l,"codewrapperRight"),". . ."===f&&""!==h&&(l=document.querySelector("#"+h).parentNode,c.push(a.c(l,"source"))),""!==f&&c.push(f),l=a.j(l,"li.kchild")[0];c.reverse();for(f=0;f<c.length;f++){if(". . ."===c[f]){k="// Value is either protected or private.<br /> // Sorry . . ";break}";stop;"===c[f]&&(k="",c[f]="");k=-1!==
c[f].indexOf(";firstMarker;")?c[f].replace(";firstMarker;",k):k+c[f]}d.innerHTML='<div class="kcode-inner">'+(n+k+p)+"</div>";"none"===d.style.display?(d.style.display="",a.S(d)):d.style.display="none"};b.K=function(b,e){var d=a.c(e.parentNode,"instance"),c=a.c(e,"what");a.f("#"+d+" .kactive:not(.ksearchbutton)","kactive");e.classList?e.classList.add("kactive"):e.className+=" kactive";a.h("#"+d+" .kpayload","khidden");a.f("#"+d+" ."+c,"khidden")};b.J=function(){var a=Math.round(.6*Math.max(document.documentElement.clientHeight,
window.innerHeight||0));if(0<a)for(var b=document.querySelectorAll(".krela-wrapper .kpayload"),d=0;d<b.length;d++)b[d].style.maxHeight=a+"px"};b.L=function(){var a=document.querySelector(".kfatalwrapper-outer .search-wrapper");a.style.position="";a.style.top="";0>a.getBoundingClientRect().top&&(a.style.position="fixed",a.style.top="0px")};b.H=function(b){b.preventDefault();b.stopPropagation();13===b.which&&a.s(this.parentNode.querySelectorAll(".ksearchnow")[1])};b.U=function(a,b){a.stop=!0;var d=
b.nextElementSibling;d.style.display="none"===d.style.display?"":"none"}})(kreXXdomTools);