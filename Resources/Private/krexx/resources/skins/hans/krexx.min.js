/*! kreXX: Krumo eXXtended | (C) 2014-2018 Brainworxx GmbH | http://opensource.org/licenses/LGPL-2.1 */
(function(a){function b(){}document.addEventListener("DOMContentLoaded",function(){b.F()});b.F=function(){a.N(b);a.O();a.M(".kheadnote",function(){for(var a=document.querySelectorAll(".search-wrapper"),b,c=0;c<a.length;c++)b=a[c].getBoundingClientRect(),a[c].style.position="fixed",a[c].style.top=b.top+"px"},function(){for(var a=document.querySelectorAll(".search-wrapper"),b=0;b<a.length;b++)a[b].style.position="absolute",a[b].style.top=""});a.b(".kwrapper .kheadnote-wrapper .kclose, .kwrapper .kfatal-headnote .kclose",
"click",b.close);a.b(".kwrapper .kexpand","click",b.toggle);a.b(".ktool-tabs .ktab:not(.ksearchbutton)","click",b.K);a.b(".kwrapper .keditable select, .kwrapper .keditable input:not(.ksearchfield)","change",a.T);a.b(".kwrapper .kresetbutton","click",a.R);a.b(".kwrapper .kcopyFrom","click",b.u);a.b(".kwrapper .ksearchbutton, .kwrapper .ksearch .kclose","click",b.w);a.b(".kwrapper .ksearchnow","click",b.a);a.b(".kwrapper .ksearchfield","keyup",b.H);a.b(".kwrapper .kolps","click",a.collapse);a.b(".kwrapper .kgencode",
"click",b.B);a.b(".kodsp","click",a.preventBubble);a.b(".kwrapper .kchild .kinfobutton","click",b.U);"file:"===window.location.protocol&&b.v();a.P();b.D();a.i.register(".kwrapper.kouterwrapper, .kfatalwrapper-outer")};b.u=function(b,e){var c=a.c(e,"domid"),h=document.querySelector("#"+c);if(h){var g=h.previousElementSibling;e.parentNode.insertBefore(h.cloneNode(!0),e.nextSibling);h=g.cloneNode(!0);e.parentNode.insertBefore(h,e.nextSibling);a.m(h.children).innerHTML=a.m(e.children).innerHTML;var d=
h.nextElementSibling.getElementsByTagName("*");for(g=0;g<d.length;g++)d[g].removeAttribute("id");h.nextElementSibling.removeAttribute("id");a.I(h.parentNode,"domid",c);c=h.querySelector(".khelp");g=h.querySelector(".kinfobutton");d=e.querySelector(".khelp");var k=e.querySelector(".kinfobutton");null!==c&&c.parentNode.removeChild(c);null!==g&&g.parentNode.removeChild(g);null!==d&&(h.appendChild(k),h.appendChild(d));e.parentNode.removeChild(e)}};b.D=function(){for(var d=document.querySelectorAll(".koptionwrapper"),
e=0;e<d.length;e++)d[e].innerHTML='<hr class="ksearchhr"/><label class="koptionleft"><input data-instance="{KrexxId}" class="ksearchcase" type="checkbox" autocomplete="off" name="searchcase" value="searchcase">Case sensitive</label><label class="koptionright"><input data-instance="{KrexxId}" class="ksearchshort" type="checkbox" autocomplete="off" name="searchshort" value="searchshort" checked="checked">Search short results</label><br/><label class="koptionleft"><input data-instance="{KrexxId}" class="ksearchkeys" type="checkbox" autocomplete="off" name="searchkeys" value="searchkeys" checked="checked">Search keys </label><label class="koptionright"><input data-instance="{KrexxId}" class="ksearchlong" type="checkbox" autocomplete="off" name="searchlong" value="searchlong" checked="checked">Search long results</label><br/><label class="koptionleft"><input data-instance="{KrexxId}" class="ksearchwhole" type="checkbox" autocomplete="off" name="searchwhole" value="searchwhole">Search whole values</label>';
a.b(".ksearchcase","change",b.a.l);a.b(".ksearchkeys","change",b.a.l);a.b(".ksearchshort","change",b.a.l);a.b(".ksearchlong","change",b.a.l);a.b(".ksearchwhole","change",b.a.l);a.b(".koptions","click",b.A)};b.a=function(d,e){function c(){a.f(".ksearch-found-highlight","ksearch-found-highlight");var c=[];!0===f&&c.push("li.kchild span.kname");!0===k&&c.push("li.kchild span.kshort");!0===n&&c.push("li div.kpreview");b.a.results[l]=[];b.a.results[l][h]=[];b.a.results[l][h].data=[];b.a.results[l][h].pointer=
[];var e=[];0<c.length&&(e=r.querySelectorAll(c.join(", ")));for(var d=0;d<e.length;++d)c=e[d].textContent,!1===g&&(c=c.toLowerCase()),p?c===h&&(a.g(e[d],"ksearch-found-highlight"),b.a.results[l][h].data.push(e[d])):-1<c.indexOf(h)&&(a.g(e[d],"ksearch-found-highlight"),b.a.results[l][h].data.push(e[d]));b.a.results[l][h].pointer=-1}a.h([e.parentNode.nextElementSibling],"khidden");var h=e.parentNode.querySelector(".ksearchfield").value,g=e.parentNode.parentNode.querySelector(".ksearchcase").checked,
f=e.parentNode.parentNode.querySelector(".ksearchkeys").checked,k=e.parentNode.parentNode.querySelector(".ksearchshort").checked,n=e.parentNode.parentNode.querySelector(".ksearchlong").checked,p=e.parentNode.parentNode.querySelector(".ksearchwhole").checked;!1===g&&(h=h.toLowerCase());if(0===h.length)e.parentNode.querySelector(".ksearch-state").textContent="<- Please enter a search text.";else if(2<h.length||p){for(var l=a.c(e,"instance"),m=a.c(e,"direction"),r=document.querySelector("#"+l+" .kbg-wrapper"),
q=r.querySelectorAll(".kcollapsed"),t=0;t<q.length;t++)a.s(q[t]);"undefined"!==typeof b.a.results[l]?"undefined"===typeof b.a.results[l][h]&&c():c();"forward"===m?b.a.results[l][h].pointer++:b.a.results[l][h].pointer--;"undefined"===typeof b.a.results[l][h].data[b.a.results[l][h].pointer]&&(b.a.results[l][h].pointer="forward"===m?0:b.a.results[l][h].data.length-1);e.parentNode.querySelector(".ksearch-state").textContent=b.a.results[l][h].pointer+1+" / "+b.a.results[l][h].data.length;"undefined"!==
typeof b.a.results[l][h].data[b.a.results[l][h].pointer]&&b.o(b.a.results[l][h].data[b.a.results[l][h].pointer])}else e.parentNode.querySelector(".ksearch-state").textContent="<- must be bigger than 3 characters"};b.a.results=[];b.a.l=function(){b.a.results[a.c(this,"instance")]=[]};b.w=function(d,e){var c=a.c(e,"instance");c=document.querySelector("#search-"+c);if(a.C(c,"hidden")){a.g(c,"hidden");c.querySelector(".ksearchfield").focus();c.style.position="absolute";c.style.top="";var h=c.getBoundingClientRect();
c.style.position="fixed";c.style.top=h.top+"px"}else a.g(c,"hidden"),a.f(".ksearch-found-highlight","ksearch-found-highlight"),c.style.position="absolute",c.style.top="",b.a.results=[]};b.A=function(b,e){a.g(e.parentNode.nextElementSibling,"khidden")};b.toggle=function(b,e){a.g(e,"kopened");a.g(e.nextElementSibling,"khidden")};b.o=function(b,e){var c=a.j(b,".knest");a.f(c,"khidden");for(var h=0;h<c.length;h++)a.h([c[h].previousElementSibling],"kopened");!0!==e&&(a.f(".highlight-jumpto","highlight-jumpto"),
a.h([b],"highlight-jumpto"));var d=document.querySelector(".kfatalwrapper-outer");if(null===d){d=document.querySelector("html");++d.scrollTop;if(0===d.scrollTop||d.scrollHeight<=d.clientHeight)d=document.querySelector("body");--d.scrollTop;var f=b.getBoundingClientRect().top+d.scrollTop-50}else f=b.getBoundingClientRect().top-d.getBoundingClientRect().top+d.scrollTop-50;c=Math.abs(d.scrollTop-f);var k=d.scrollTop<f?Math.round(c/12):-1*Math.round(c/12);var n=d.scrollTop,p=setInterval(function(){d.scrollTop+=
k;if(Math.abs(d.scrollTop-f)<=Math.abs(k)||d.scrollTop===n)d.scrollTop=f,clearInterval(p);n=d.scrollTop},1)};b.close=function(b,e){var c=a.c(e,"instance"),d=document.querySelector("#"+c),g=1,f=setInterval(function(){0>g?(clearInterval(f),d.parentNode.removeChild(d)):(g-=.1,d.style.opacity=g)},20)};b.v=function(){for(var a=document.querySelectorAll(".kwrapper .keditable input, .kwrapper .keditable select"),b=0;b<a.length;b++)a[b].disabled=!0};b.B=function(b,e){b.stop=!0;for(var c=e.nextElementSibling,
d=[],g="",f,k,n="",p="",l=a.j(e,"li.kchild")[0];l;)k=a.c(l,"domid"),f=a.c(l,"source"),n=a.c(l,"codewrapperLeft"),p=a.c(l,"codewrapperRight"),". . ."===f&&""!==k&&(l=document.querySelector("#"+k).parentNode,d.push(a.c(l,"source"))),""!==f&&d.push(f),l=a.j(l,"li.kchild")[0];d.reverse();for(f=0;f<d.length;f++){if(". . ."===d[f]){g="// Value is either protected or private.<br /> // Sorry . . ";break}";stop;"===d[f]&&(g="",d[f]="");g=-1!==d[f].indexOf(";firstMarker;")?d[f].replace(";firstMarker;",g):g+
d[f]}c.innerHTML='<div class="kcode-inner">'+(n+g+p)+"</div>";"none"===c.style.display?(c.style.display="",a.S(c)):c.style.display="none"};b.K=function(b,e){var c=a.c(e.parentNode,"instance"),d=a.c(e,"what");a.f("#"+c+" .kactive:not(.ksearchbutton)","kactive");e.classList?e.classList.add("kactive"):e.className+=" kactive";a.h("#"+c+" .kpayload","khidden");a.f("#"+c+" ."+d,"khidden")};b.J=function(){var a=Math.round(.6*Math.max(document.documentElement.clientHeight,window.innerHeight||0));if(0<a)for(var b=
document.querySelectorAll(".krela-wrapper .kpayload"),c=0;c<b.length;c++)b[c].style.maxHeight=a+"px"};b.L=function(){var a=document.querySelector(".kfatalwrapper-outer .search-wrapper");a.style.position="";a.style.top="";0>a.getBoundingClientRect().top&&(a.style.position="fixed",a.style.top="0px")};b.H=function(b){b.preventDefault();b.stopPropagation();13===b.which&&a.s(this.parentNode.querySelectorAll(".ksearchnow")[1])};b.U=function(a,b){a.stop=!0;var c=b.nextElementSibling;c.style.display="none"===
c.style.display?"":"none"}})(kreXXdomTools);